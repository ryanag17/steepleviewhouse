<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Steepleview House | Surroundings</title>

  <link rel="stylesheet" href="styles.css" />
  <script src="script.js" defer></script>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8f9fa;
      margin: 0;
    }

    main {
      padding: 40px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    /* Intro section */
    .page-intro {
      text-align: center;
      margin-bottom: 40px;
    }
    .page-intro h1 {
      font-size: 2.2em;
      margin-bottom: 10px;
      color: #2b4d2b;
    }
    .page-intro h2 {
      color: #3a7a3a;
      margin-top: 10px;
      font-weight: normal;
    }
    .page-intro p {
      font-size: 1.1em;
      color: #555;
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.6;
    }

    /* Filters styling */
    .filters {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 30px;
    }
    .filters input,
    .filters select {
      padding: 10px 14px;
      font-size: 15px;
      border: 2px solid #3a7a3a;
      border-radius: 25px;
      outline: none;
      background: #fff;
      transition: 0.2s;
    }
    .filters input:focus,
    .filters select:focus {
      box-shadow: 0 0 5px rgba(58, 122, 58, 0.5);
    }
    .filters button {
      padding: 10px 18px;
      font-size: 15px;
      border: 2px solid #3a7a3a;
      border-radius: 25px;
      background: #3a7a3a;
      color: white;
      cursor: pointer;
      transition: 0.2s;
    }
    .filters button:hover {
      background: #2e612e;
    }

    /* Map */
    #map {
      height: 600px;
      width: 100%;
      border-radius: 10px;
      margin-bottom: 40px;
      position: relative;
      z-index: 0;
    }

    /* Keep Leaflet controls below header */
    .leaflet-control-container {
      z-index: 1 !important;
    }

    /* Places grid */
    .place-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      justify-items: center;
    }

    /* Place card with background image overlay and hover effect */
    .place-card {
      background: white; /* fallback if no image */
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 350px;
      text-align: left;
      transition: transform 0.2s, box-shadow 0.2s;
      position: relative;
      overflow: hidden;
      color: white;
      min-height: 220px; /* ensures enough space for text over image */
      padding: 18px 22px; /* more padding for readability */
    }

    /* Darker overlay to make text easier to read */
    .place-card::before {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.55); /* stronger overlay */
      z-index: 0;
    }

    /* Make all inner text above the overlay */
    .place-card * {
      position: relative;
      z-index: 1;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.7); /* subtle text shadow */
    }

    /* Hover effect */
    .place-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }

    /* Text styling */
    .place-card h3 {
      margin-top: 0;
      color: #fff;
    }
    .place-card p {
      margin: 6px 0;
      font-size: 14px;
      color: #fff;
    }
    .place-card a {
      color: #fff;
      text-decoration: underline;
      word-break: break-word;
      overflow-wrap: anywhere;
      display: inline-block;
      max-width: 100%;
    }
    .place-card a:hover {
      color: #d4f0d4;
    }

    footer {
      margin-top: 60px;
      text-align: center;
    }
  </style>
</head>

<body class="innerpage">

  <header>
    <div class="navbar">
      <a href="index.html" class="logo">
        <img src="images/logo.png" alt="Steepleview House Logo" />
      </a>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="rooms.html">Rooms</a></li>
          <li><a href="book.html">Book</a></li>
          <li><a href="surroundings.html" class="active">Surroundings</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="page-intro">
      <h1>Around Our Area</h1>
      <h2>Explore the Best of the Black Forest</h2>
      <p>
        Discover charming towns, scenic trails, cozy restaurants, and unique attractions — all just moments away from Steepleview House.
      </p>
    </section>

    <div class="filters">
      <input type="text" id="filterName" placeholder="Search by name" />
      <select id="filterCategory">
        <option value="">All Categories</option>
        <option value="Activity">Activity</option>
        <option value="Attraction">Attraction</option>
        <option value="Nature">Nature</option>
        <option value="Town">Town</option>
      </select>
      <input type="text" id="filterCity" placeholder="Search by city" />
      <button id="clearFilters">Clear Filters</button>
    </div>

    <div id="map"></div>

    <div id="placeList" class="place-list"></div>
  </main>

  <footer>
    <p>&copy; 2025 Steepleview House. All rights reserved.</p>
    <div class="socials">
      <a href="https://www.facebook.com/steepleviewhouse" target="_blank">
        <img src="images/facebook.png" alt="Facebook" />
      </a>
      <a href="https://www.instagram.com/steepleview_house" target="_blank">
        <img src="images/instagram.png" alt="Instagram" />
      </a>
    </div>
  </footer>

  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <script>
    const ourBusiness = {
      name: "Steepleview House",
      coords: [48.448545979797416, 8.233313789811467],
      address: "Waltersweg 5, Bad Peterstal-Griesbach, Germany",
      category: "Our Place",
      description: "Your welcoming stay in the heart of the Black Forest"
    };

    const places = [
      {
        name: "Freiburg im Breisgau",
        category: "Town",
        city: "Freiburg im Breisgau",
        address: "79098 Freiburg im Breisgau, Germany",
        website: "https://visit.freiburg.de/en",
        description: "Vibrant university city with a historic old town and scenic surroundings.",
        coords: [47.99561749381487, 7.851952672601951],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Strasbourg",
        category: "Town",
        city: "Strasbourg",
        address: "67000 Strasbourg, France",
        website: "https://www.visitstrasbourg.fr/en/welcome-in-strasbourg/",
        description: "Beautiful city in France with medieval architecture and scenic canals.",
        coords: [48.58342627106424, 7.745793185769838],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Stuttgart",
        category: "Town",
        city: "Stuttgart",
        address: "70173 Stuttgart, Germany",
        website: "https://www.stuttgart-tourist.de/en",
        description: "Major city with automotive museums, parks, and cultural attractions.",
        coords: [48.77857147046227, 9.179673969900348],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Oberkirch",
        category: "Town",
        city: "Oberkirch",
        address: "77704 Oberkirch, Germany",
        website: "https://www.oberkirch.de/",
        description: "Scenic town known for wine, local markets, and traditional charm.",
        coords: [48.53104425484386, 8.079125578545293],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Freudenstadt",
        category: "Town",
        city: "Freudenstadt",
        address: "Marktplatz, 72250 Freudenstadt, Germany",
        website: "https://www.freudenstadt.de/",
        description: "Famous for the large market square and surrounding Black Forest trails.",
        coords: [48.466, 8.414],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Baden-Baden",
        category: "Town",
        city: "Baden-Baden",
        address: "76530 Baden-Baden, Germany",
        website: "https://www.baden-baden.de/",
        description: "Elegant spa town with thermal baths, casinos, and scenic parks.",
        coords: [48.761, 8.239],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Karlsruhe",
        category: "Town",
        city: "Karlsruhe",
        address: "76131 Karlsruhe, Germany",
        website: "https://www.karlsruhe.de/",
        description: "Dynamic city with modern architecture and cultural attractions.",
        coords: [49.014, 8.404],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Gengenbach",
        category: "Town",
        city: "Gengenbach",
        address: "77723 Gengenbach, Germany",
        website: "https://www.gengenbach.de/",
        description: "Picturesque town with half-timbered houses and charming streets.",
        coords: [48.414, 7.922],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Wolfach",
        category: "Town",
        city: "Wolfach",
        address: "77709 Wolfach, Germany",
        website: "https://www.wolfach.de/",
        description: "Traditional Black Forest town with artisanal workshops and scenic river views.",
        coords: [48.345, 8.231],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Himmelsteig Hike",
        category: "Nature",
        city: "Bad Peterstal-Griesbach",
        address: "Bad Peterstal-Griesbach, Germany",
        website: "",
        description: "Scenic hiking trail through lush Black Forest landscapes.",
        coords: [48.435, 8.209],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Renchtalsteig Hike",
        category: "Nature",
        city: "Bad Peterstal-Griesbach",
        address: "Bad Peterstal-Griesbach, Germany",
        website: "",
        description: "Challenging hiking route with beautiful valley views.",
        coords: [48.44, 8.21],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Teufelskanzelsteig Hike",
        category: "Nature",
        city: "Bad Peterstal-Griesbach",
        address: "Bad Peterstal-Griesbach, Germany",
        website: "",
        description: "Dramatic cliffs and scenic viewpoints on this popular trail.",
        coords: [48.442, 8.215],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Habererturm",
        category: "Nature",
        city: "Freudenstadt",
        address: "Freudenstadt, Germany",
        website: "",
        description: "Historic tower offering panoramic views over the Black Forest.",
        coords: [48.47, 8.42],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Allerheiligen Waterfalls",
        category: "Nature",
        city: "Oppenau",
        address: "Klosterruine Allerheiligen, 77728 Oppenau, Germany",
        website: "https://www.schwarzwald-tourismus.info/attraktionen/allerheiligen-wasserfaelle-oppeneau",
        description: "Spectacular waterfalls with nearby monastery ruins.",
        coords: [48.55, 8.25],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Internationale Sommerskispringen",
        category: "Nature",
        city: "Bad Peterstal-Griesbach",
        address: "Bad Peterstal-Griesbach, Germany",
        website: "",
        description: "International summer ski jumping event in the Black Forest.",
        coords: [48.43, 8.205],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Skilifte Vogelskopf",
        category: "Nature",
        city: "Baiersbronn",
        address: "Ruhestein 6, 72270 Baiersbronn, Germany",
        website: "https://vogelskopf.de/skilift-vogelskopf/",
        description: "Ski lift offering slopes and winter activities.",
        coords: [48.55564562302622, 8.221823061119123],
        image: "images/surroundings/vogelskopf.jpg"
      },
      {
        name: "Skilifte Zuflucht",
        category: "Nature",
        city: "Bad Peterstal-Griesbach",
        address: "Zuflucht 1, 72250 Bad Peterstal-Griesbach, Germany",
        website: "https://www.hotel-zuflucht.de/skilift-zuflucht/",
        description: "Ski lift about 15 minutes away from Steepleview House.",
        coords: [48.49507387628863, 8.235289792940675],
        image: "images/surroundings/zuflucht.jpg"
      },
      {
        name: "Alternativer Wolf- und Bärenpark Schwarzwald",
        category: "Activity",
        city: "Bad Rippoldsau-Schapbach",
        address: "Rippoldsauer Str. 36/1, 77776 Bad Rippoldsau-Schapbach, Germany",
        website: "https://www.baer.de/projekte/alternativer-wolf-und-baerenpark-schwarzwald",
        description: "Open-air animal park with a pedestrian loop, featuring bears, wolves & lynxes in a forested habitat.",
        coords: [48.39340044719894, 8.310669067499914],
        image: "images/surroundings/bearpark.jpg"
      },
      {
        name: "Deutsches Uhrenmuseum",
        category: "Activity",
        city: "Furtwangen im Schwarzwald",
        address: "Robert-Gerwig-Platz 1, 78120 Furtwangen im Schwarzwald, Germany",
        website: "https://www.deutsches-uhrenmuseum.de/",
        description: "Museum featuring thousands of antique clocks & watches from the Black Forest & around the world.",
        coords: [48.051130529199874, 8.207661035456157],
        image: "images/surroundings/uhrenmuseum.jpg"
      },
      {
        name: "Monkey Mountain",
        category: "Attraction",
        city: "Kintzheim",
        address: "Wick, 67600 Kintzheim, France",
        website: "https://www.montagnedessinges.com/",
        description: "Forest walk with guides through a reservation home to around 200 free-roaming barbary macaques.",
        coords: [48.26046397126232, 7.374904267491218],
        image: "images/surroundings/monkeymountain.jpg"
      },
      {
        name: "Durbacher Winery",
        category: "Activity",
        city: "Durbach",
        address: "Nachtweide 2, 77770 Durbach, Germany",
        website: "https://winzer.durbacher.de/",
        description: "Local winery producing Black Forest wines, open for tours and tastings.",
        coords: [48.49255997128988, 8.023529996342527],
        image: "images/surroundings/durbacherwinzer.jpg"
      },
      {
        name: "Oberkircher Winzer",
        category: "Activity",
        city: "Oberkirch",
        address: "Renchener Str. 42, 77704 Oberkirch, Germany",
        website: "http://www.oberkircher-winzer.de/",
        description: "Top local winery nearby Steepleview House.",
        coords: [48.54041317824217, 8.069811267509648],
        image: "images/surroundings/oberkircherwinzer.jpg"
      },
      {
        name: "Baden Wine Route",
        category: "Activity",
        city: "Baden",
        address: "Baden, Germany",
        website: "https://www.badische-weinstrasse.de/",
        description: "Scenic route through vineyards with tasting opportunities and wine festivals.",
        coords: [48.10364771567498, 7.70868725489725],
        image: "images/surroundings/badenwine.jpg"
      },
      {
        name: "Alsace Wine Route",
        category: "Activity",
        city: "Alsace (Marlenheim <-> Thann)",
        address: "Alsace, France",
        website: "https://www.wineroute.alsace/",
        description: "Famous wine route through Alsace villages and vineyards.",
        coords: [48.191619887030974, 7.32474352192557],
        image: "images/surroundings/alsacewine.jpg"
      },
      {
        name: "BOAR Distillery",
        category: "Activity",
        city: "Bad Peterstal-Griesbach",
        address: "Renchtalstraße 49c, 77740 Bad Peterstal-Griesbach, Germany",
        website: "https://www.boargin.de/",
        description: "Local distillery offering tastings of spirits and liqueurs.",
        coords: [48.42984557416387, 8.186225496491389],
        image: "images/surroundings/boar.jpeg"
      },
      {
        name: "Braurerei Alpirsbacher",
        category: "Activity",
        city: "Alpirsbach",
        address: "Hauptstraße 70/2, 72275 Alpirsbach, Germany",
        website: "http://www.alpirsbacher.de/",
        description: "Historic brewery producing traditional Black Forest beers.",
        coords: [48.340158971266554, 8.396090481375781],
        image: "images/surroundings/alpirsbacher.jpeg"
      },
      {
        name: "Ketterer Brewery",
        category: "Activity",
        city: "Hornberg",
        address: "Frombachstraße 27, 78132 Hornberg, Germany",
        website: "http://www.kettererbier.de/",
        description: "Family-run brewery with local beer specialties and tours.",
        coords: [48.20135433733773, 8.233804054371324],
        image: "images/surroundings/ketterer.jpg"
      },
      {
        name: "Freibad Peterstal",
        category: "Activity",
        city: "Bad Peterstal-Griesbach",
        address: "Schwimmbadstraße 10, 77740 Bad Peterstal-Griesbach, Germany",
        website: "https://gemeinde.bad-peterstal-griesbach.de/gemeindeleben/badeeinrichtungen/beheiztes-freibad-peterstal-id_395/",
        description: "Local outdoor swimming pool with leisure and family facilities.",
        coords: [48.42504071494607, 8.211400931349402],
        image: "images/surroundings/badpeterstalswim.jpg"
      },
      {
        name: "Freizeitbad Oppenau",
        category: "Activity",
        city: "Oppenau",
        address: "Einmatt 4, 77728 Oppenau, Germany",
        website: "https://www.oppenau.de/freizeitbad.html",
        description: "Public swimming facility in Oppenau.",
        coords: [48.476595408557834, 8.171219696730452],
        image: "images/surroundings/oppenauswim.jpg"
      },
      {
        name: "Freibad Oberkirch",
        category: "Activity",
        city: "Oberkirch",
        address: "Strandbadweg 5, 77704 Oberkirch, Germany",
        website: "https://www.oberkirch.de/de/freizeit/aktivitaeten/freibad/",
        description: "Public swimming facility in Oberkirch.",
        coords: [48.52403480592874, 8.088324310224339],
        image: "images/surroundings/oberkirchswim.jpg"
      },
      {
        name: "Panorama-Bad Freudenstadt",
        category: "Activity",
        city: "Freudenstadt",
        address: "Ludwig-Jahn-Straße 60, 72250 Freudenstadt, Germany",
        website: "http://www.panorama-bad.de/",
        description: "Indoor & outdoor swimming pools in leisure complex with sauna area, massage service & restaurant.",
        coords: [48.473317097050675, 8.414748525566647],
        image: "images/surroundings/panoramabad.jpg"
      },
      {
        name: "Caracalla Therme",
        category: "Activity",
        city: "Baden-Baden",
        address: "Römerpl. 1, 76530 Baden-Baden, Germany",
        website: "https://caracalla.de/",
        description: "Thermal bathhouse in forested surroundings offering a variety of indoor & outdoor bathing options.",
        coords: [48.76379653975702, 8.244515060055269],
        image: "images/surroundings/caracalla.jpg"
      },
      {
        name: "Rulantica",
        category: "Attraction",
        city: "Rust",
        address: "Roland-Mack-Ring 1, 77977 Rust, Germany",
        website: "https://www.europapark.de/de/rulantica",
        description: "Huge indoor water park with Scandinavian-style, fun-filled attractions & relaxation areas.",
        coords: [48.26117149976918, 7.7398552247875205],
        image: "images/surroundings/rulantica.jpg"
      },
      {
        name: "Europapark",
        category: "Attraction",
        city: "Rust",
        address: "Europa-Park-Straße 2, 77977 Rust, Germany",
        website: "https://www.europapark.de/de",
        description: "Germany’s largest theme park with rides, shows, and themed areas.",
        coords: [48.26601053422271, 7.721954092022748],
        image: "images/surroundings/europapark.jpg"
      },
      {
        name: "LEGOLAND Germany",
        category: "Attraction",
        city: "Günzburg",
        address: "Legoland-Allee 1, 89312 Günzburg, Germany",
        website: "https://www.legoland.de/",
        description: "Family-friendly theme park with LEGO-themed rides and attractions.",
        coords: [48.42449589621657, 10.299582940429714],
        image: "images/surroundings/legoland.jpg"
      },
      {
        name: "Sommerrodelbahn Gutach",
        category: "Attraction",
        city: "Gutach",
        address: "Vor Singersbach 1A, 77793 Gutach (Schwarzwaldbahn), Germany",
        website: "https://www.sommerrodelbahn-gutach.de/",
        description: "Exciting 3,773-ft.-long summer toboggan run in the Black Forest for all ages.",
        coords: [48.2657917640858, 8.201831575732855],
        image: "images/surroundings/rodelbahn.jpg"
      },
      {
        name: "Porsche Museum",
        category: "Attraction",
        city: "Stuttgart",
        address: "Porscheplatz 1, 70435 Stuttgart, Germany",
        website: "https://www.porsche.com/germany/aboutporsche/porschemuseum/",
        description: "Futuristic museum tracing Porsche's history, with vehicles from early 20th century to the present.",
        coords: [48.83421262527942, 9.152517952604082],
        image: "images/surroundings/porsche.jpg"
      },
      {
        name: "Mercedes-Benz Museum",
        category: "Attraction",
        city: "Stuttgart",
        address: "Mercedesstraße 100, 70372 Stuttgart, Germany",
        website: "https://www.mercedes-benz.com/museum",
        description: "Museum tracing history of Mercedes & the car industry, with vintage & modern vehicles on display.",
        coords: [48.78814196306444, 9.23398896567591],
        image: "images/surroundings/mercedes.jpg"
      },
      {
        name: "Black Forest Open-Air Museum Vogtsbauernhof",
        category: "Activity",
        city: "Gutach",
        address: "Vogtsbauernhof 1, 77793 Gutach (Schwarzwaldbahn), Germany",
        website: "https://www.vogtsbauernhof.de/",
        description: "Recreated Black Forest village farm of 16th-18th centuries, with storehouse, bakery, mills & crafts.",
        coords: [48.27032050364225, 8.200900705957705],
        image: "images/surroundings/vogtsbauernhof.jpg"
      },
      {
        name: "Lake Titisee",
        category: "Nature",
        city: "Titisee-Neustadt",
        address: "Seestraße, 79822 Titisee-Neustadt, Germany",
        website: "https://www.hochschwarzwald.de/Titisee",
        description: "Scenic lake with walking paths, boating, and lakeside cafes.",
        coords: [47.89941800234887, 8.15275631768353],
        image: "images/surroundings/titisee.jpg"
      },
      {
        name: "Schwarzwaldhochstraße (Scenic Drive)",
        category: "Nature",
        city: "B500 (Freudenstadt <-> Baden-Baden)",
        address: "B500, Baden-Württemberg, Germany",
        website: "https://www.schwarzwald.com/hochstrasse/",
        description: "Panoramic road through the Black Forest with breathtaking viewpoints.",
        coords: [48.65315597263053, 8.23258773087333],
        image: "images/surroundings/schwarzwaldhochstrasse.jpg"
      },
      {
        name: "Hohenzollern Castle",
        category: "Attraction",
        city: "Bisingen",
        address: "72379 Burg Hohenzollern, Germany",
        website: "https://burg-hohenzollern.com/de/",
        description: "Art collection & the Prussian king's crown housed in mountaintop, turreted, 19th-century castle.",
        coords: [48.32355592004809, 8.967407010637299],
        image: "images/surroundings/hohenzollern.jpg"
      },
      {
        name: "Mummelsee",
        category: "Nature",
        city: "Seebach",
        address: "Schwarzwaldhochstraße 11, 77889 Seebach, Germany",
        website: "https://www.mummelsee.de/",
        description: "The largest of the seven remaining cirque lakes in the Black Forest and names after Mummeln, or white water lilies.",
        coords: [48.59678029368679, 8.201502207840553],
        image: "images/surroundings/mummelsee.jpg"
      },
      {
        name: "Feldberg Mountain",
        category: "Nature",
        city: "Feldberg",
        address: "79868 Feldberg, Germany",
        website: "https://www.feldberg-erlebnis.de/",
        description: "Highest mountain in the Black Forest, popular for hiking and skiing. Also offers a cable car and viewing tower.",
        coords: [47.87392318715029, 8.004731496336252],
        image: "images/surroundings/feldberg.jpg"
      },
      {
        name: "Lotharpfad",
        category: "Nature",
        city: "Baiersbronn",
        address: "72270 Baiersbronn, Germany",
        website: "https://www.nationalpark-schwarzwald.de/erleben/unterwegs-im-park/erlebnispfade/lotharpfad",
        description: "Forest & moorland hiking trail on boardwalks, with mountain views from an observation platform. Highlighting nature’s recovery after the 1999 storm Lothar.",
        coords: [48.50671598361399, 8.223216697846539],
        image: "images/surroundings/lotharpfad.jpg"
      }
    ];


    const icons = {
      Restaurant: L.icon({
        iconUrl: "https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png",
        iconSize: [28, 28],
        iconAnchor: [14, 28]
      }),
      Attraction: L.icon({
        iconUrl: "https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png",
        iconSize: [28, 28],
        iconAnchor: [14, 28]
      }),
      Nature: L.icon({
        iconUrl: "https://maps.gstatic.com/mapfiles/ms2/micons/green-dot.png",
        iconSize: [28, 28],
        iconAnchor: [14, 28]
      }),
      Town: L.icon({
        iconUrl: "https://maps.gstatic.com/mapfiles/ms2/micons/yellow-dot.png",
        iconSize: [28, 28],
        iconAnchor: [14, 28]
      }),
      Activity: L.icon({
        iconUrl: "https://maps.gstatic.com/mapfiles/ms2/micons/purple-dot.png",
        iconSize: [28, 28],
        iconAnchor: [14, 28]
      }),
      Store: L.icon({
        iconUrl: "https://maps.gstatic.com/mapfiles/ms2/micons/orange-dot.png",
        iconSize: [28, 28],
        iconAnchor: [14, 28]
      }),
    };

    let map;
    let markers = [];

    window.onload = function () {
      map = L.map("map").setView(ourBusiness.coords, 13);

      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 19,
        attribution: "&copy; OpenStreetMap contributors",
      }).addTo(map);

      const starIcon = L.icon({
        iconUrl: "images/star.svg",
        iconSize: [30, 30],
        iconAnchor: [15, 30],
        popupAnchor: [0, -30],
      });

      L.marker(ourBusiness.coords, { icon: starIcon })
        .addTo(map)
        .bindPopup(`<b>${ourBusiness.name}</b><br>${ourBusiness.address}`);

      renderMarkers(places);
      renderPlaceList(places);
    };

    function renderMarkers(data) {
      markers.forEach((m) => map.removeLayer(m));
      markers = [];

      data.forEach((place) => {
        const icon = icons[place.category] || icons["Town"];
        const marker = L.marker(place.coords, { icon }).addTo(map);

        let popupHtml = `
          <b>${place.name}</b><br>
          ${place.address}<br>
          <i>${place.category}</i><br>
          ${place.description}
        `;
        if (place.website) {
          popupHtml += `<br><a href="${place.website}" target="_blank" style="word-break: break-word;">Website</a>`;
        }

        marker.bindPopup(popupHtml);
        markers.push(marker);
      });
    }

    function renderPlaceList(data) {
      const list = document.getElementById("placeList");
      list.innerHTML = "";

      data.forEach((place) => {
        const card = document.createElement("div");
        card.className = "place-card";

        // Add background image if available
        if (place.image) {
          card.style.backgroundImage = `url(${place.image})`;
          card.style.backgroundSize = "cover";
          card.style.backgroundPosition = "center";
        } else {
          card.style.backgroundColor = "#fff"; // fallback
          card.style.color = "#333";
        }

        let html = `
          <h3>${place.name}</h3>
          <p><b>Category:</b> ${place.category}</p>
          <p><b>City:</b> ${place.city}</p>
          <p><b>Address:</b> ${place.address}</p>
          <p>${place.description}</p>
        `;
        if (place.website) {
          html += `<p><a href="${place.website}" target="_blank">Website</a></p>`;
        }

        card.innerHTML = html;

        card.addEventListener("click", () => {
          const matching = markers.find((m) => {
            const latlng = m.getLatLng();
            return latlng.lat === place.coords[0] && latlng.lng === place.coords[1];
          });
          if (matching) {
            matching.openPopup();
            map.panTo(matching.getLatLng());
          }
        });

        list.appendChild(card);
      });
    }


    const filterNameEl = document.getElementById("filterName");
    const filterCategoryEl = document.getElementById("filterCategory");
    const filterCityEl = document.getElementById("filterCity");
    const clearBtn = document.getElementById("clearFilters");

    [filterNameEl, filterCityEl].forEach((el) =>
      el.addEventListener("input", applyFilters)
    );
    filterCategoryEl.addEventListener("change", applyFilters);
    clearBtn.addEventListener("click", () => {
      filterNameEl.value = "";
      filterCategoryEl.value = "";
      filterCityEl.value = "";
      applyFilters();
    });

    function applyFilters() {
      const nameFilter = filterNameEl.value.toLowerCase();
      const categoryFilter = filterCategoryEl.value;
      const cityFilter = filterCityEl.value.toLowerCase();

      const filtered = places.filter((place) => {
        const matchesName = place.name.toLowerCase().includes(nameFilter);
        const matchesCategory = categoryFilter
          ? place.category === categoryFilter
          : true;
        const matchesCity = place.city.toLowerCase().includes(cityFilter);
        return matchesName && matchesCategory && matchesCity;
      });

      renderMarkers(filtered);
      renderPlaceList(filtered);
    }
  </script>
</body>
</html>
